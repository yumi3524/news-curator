# /simplify-after-feature

リファクタリング指示

## チェック項目

### 重複排除
- [ ] 3箇所以上の類似コード → 共通関数化
- [ ] 類似スタイル → コンポーネント化

### 条件分岐整理
- [ ] ネスト3段以上 → 早期return
- [ ] 複雑な三項演算子 → if文に分解

### 分割
- [ ] 100行超コンポーネント → 分割
- [ ] 複数責務 → 単一責務に

### 定数化
- [ ] マジックナンバー → 定数
- [ ] 文字列リテラル → const

## 出力形式（必須）

```markdown
## リファクタ効果

### 定量効果
| 指標 | Before | After | 削減率 |
|------|--------|-------|--------|
| 行数/バイト数 | X | Y | -Z% |
| 重複箇所 | X | Y | -Z% |
| 関数平均行数 | X | Y | -Z% |

### 具体的な効果
| 効果 | 説明 |
|------|------|
| **[効果名]** | [ユーザーへのメリット] |

例:
| **保守性向上** | 修正箇所が1箇所に集約され変更が容易に |
| **可読性向上** | ネスト削減で処理の流れが把握しやすく |
| **テスト容易性** | 関数分割により単体テストが書きやすく |
```

## 検証
```bash
pnpm test && pnpm type-check
```

## Playwright画面確認
リファクタ後は必ず画面で動作確認：
```bash
pnpm test:e2e:ui  # UI付きで画面確認
```
